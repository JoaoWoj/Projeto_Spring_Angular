<mat-card>

  <mat-toolbar color="primary">Detalhes livro</mat-toolbar>
  <mat-card-content>
    <form [formGroup]="form" class="min-width">

      <mat-checkbox class="full-width" formControlName="rented" [disabled]="true">Alugado</mat-checkbox>

      <mat-form-field class="half-width">
        <input matInput placeholder="Título" formControlName="title" #title>
        <mat-hint align="end">{{title.value.length}}/200</mat-hint>
        @if (form.get('title')?.invalid) {
          <mat-error>{{getErrorMessage("title")}}</mat-error>
        }
      </mat-form-field>

      <mat-form-field class="half-width">
        <input matInput placeholder="Autor" formControlName="author" #author>
        <mat-hint align="end">{{author.value.length}}/200</mat-hint>
        @if (form.get('author')?.invalid) {
          <mat-error>{{getErrorMessage("author")}}</mat-error>
        }
      </mat-form-field>

      <mat-form-field class="half-width">
        <input matInput placeholder="Editora" formControlName="publisher" #publisher>
        <mat-hint align="end">{{publisher.value.length}}/200</mat-hint>
        @if (form.get('publisher')?.invalid) {
          <mat-error>{{getErrorMessage("publisher")}}</mat-error>
        }
      </mat-form-field>

      <mat-form-field class="half-width">
        <input matInput type="number" placeholder="ISBN" formControlName="isbn" #isbn>
        <mat-hint align="end">{{isbn.value.length}}/13</mat-hint>
        <mat-error *ngIf="form.get('isbn')?.invalid">{{ getErrorMessageIsbn()}}</mat-error>
      </mat-form-field>

      <mat-form-field class="half-width">
        <input matInput type="number" placeholder="Ano de publicação" formControlName="publicationYear" #publicationYear>
        <mat-hint align="end">{{publicationYear.value.length}}/4</mat-hint>
        @if (form.get('publicationYear')?.invalid) {
          <mat-error>{{getErrorMessage("publicationYear")}}</mat-error>
        }
      </mat-form-field>
    </form>
  </mat-card-content>
  <mat-card-actions class="action-button-form">
    <button class="button-form" mat-raised-button (click)="onCancel()">Cancelar</button>
    <button class="button-form" mat-raised-button [style.background]="'#4CAF50'" (click)="onSubmit()">Salvar</button>
  </mat-card-actions>
</mat-card>
